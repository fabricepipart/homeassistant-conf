################################################################################
# Réseau
################################################################################

badges: []
panel: true
icon: "mdi:network"
path: reseau
title: Réseau
cards:
  - type: vertical-stack
    cards:
      - type: horizontal-stack
        #title: Raspberry
        cards:
          - type: custom:mini-graph-card
            hour24: true
            entities:
              - sensor.processor_use
          - type: custom:mini-graph-card
            hour24: true
            entities:
              - sensor.memory_use_percent
          - type: custom:mini-graph-card
            hour24: true
            entities:
              - sensor.swap_use_percent
          - type: custom:mini-graph-card
            hour24: true
            entities:
              - sensor.disk_use_percent
      - type: horizontal-stack
        cards:
          - title: Last boot
            type: markdown
            entity_id: sensor.last_boot
            content: "{{ (as_timestamp(now()) - as_timestamp(states('sensor.last_boot')) | int ) | timestamp_custom('%d days %H hours', false)}}"
          - type: custom:mini-graph-card
            hour24: true
            entities:
              - sensor.db_size
          - entity: script.sleep_mac
            hold_action:
              action: more-info
            icon: "mdi:sleep"
            icon_height: 48px
            show_icon: true
            show_name: true
            tap_action:
              action: toggle
            type: entity-button
          - entity: script.bt_mac
            hold_action:
              action: more-info
            icon: "mdi:bluetooth"
            icon_height: 48px
            show_icon: true
            show_name: true
            tap_action:
              action: toggle
            type: entity-button

      - type: horizontal-stack
        cards:
          - entity: sensor.r7000_gateway_kib_s_received
            name: Download
            unit: kiB/s
            min: 0
            max: 10000
            severity:
              green: 100
              yellow: 1000
              red: 5000
            type: gauge
          - entity: sensor.r7000_gateway_kib_s_sent
            name: Upload
            unit: kiB/s
            min: 0
            max: 10000
            severity:
              green: 100
              yellow: 1000
              red: 5000
            type: gauge

      - type: custom:mini-graph-card
        hours_to_show: 1
        points_per_hour: 100
        line_width: 2
        entities:
          - entity: sensor.r7000_gateway_kib_s_sent
          - entity: sensor.r7000_gateway_kib_s_received
      - type: history-graph
        hours_to_show: 1
        entities:
          - entity: sensor.r7000_gateway_kib_s_sent
          - entity: sensor.r7000_gateway_kib_s_received

      - type: vertical-stack
        title: Sonoff
        cards:
          - type: history-graph
            hours_to_show: 24
            entities:
              - entity: sensor.salle_a_manger_signal
              - entity: sensor.salon_signal
              - entity: sensor.chambre_signal
              - entity: sensor.chambre_cleo_signal
              - entity: sensor.couloir_signal
              - entity: sensor.cuisine_signal
              - entity: sensor.entree_1_signal
              - entity: sensor.entree_2_signal
              - entity: sensor.entree_3_signal
              - entity: sensor.wc_signal
              - entity: sensor.wc_wall_signal
              - entity: sensor.chaussures_signal
              - entity: sensor.salle_de_bain_signal
          - type: horizontal-stack
            columns: 3
            cards:
              - title: Signal Sonoff
                type: entities
                entities:
                  - entity: sensor.salle_a_manger_signal
                  - entity: sensor.salon_signal
                  - entity: sensor.chambre_signal
                  - entity: sensor.chambre_cleo_signal
                  - entity: sensor.couloir_signal
                  - entity: sensor.cuisine_signal
                  - entity: sensor.entree_1_signal
                  - entity: sensor.entree_2_signal
                  - entity: sensor.entree_3_signal
                  - entity: sensor.wc_signal
                  - entity: sensor.wc_wall_signal
                  - entity: sensor.chaussures_signal
                  - entity: sensor.salle_de_bain_signal
              - title: IPs Sonoff
                type: entities
                entities:
                  - entity: sensor.salle_a_manger_ip
                  - entity: sensor.salon_ip
                  - entity: sensor.chambre_ip
                  - entity: sensor.chambre_cleo_ip
                  - entity: sensor.couloir_ip
                  - entity: sensor.cuisine_ip
                  - entity: sensor.entree_1_ip
                  - entity: sensor.entree_2_ip
                  - entity: sensor.entree_3_ip
                  - entity: sensor.wc_ip
                  - entity: sensor.wc_wall_ip
                  - entity: sensor.chaussures_ip
                  - entity: sensor.salle_de_bain_ip
              - title: Versions Sonoff
                type: entities
                entities:
                  - entity: sensor.salle_a_manger_version
                  - entity: sensor.salon_version
                  - entity: sensor.chambre_version
                  - entity: sensor.chambre_cleo_version
                  - entity: sensor.couloir_version
                  - entity: sensor.cuisine_version
                  - entity: sensor.entree_1_version
                  - entity: sensor.entree_2_version
                  - entity: sensor.entree_3_version
                  - entity: sensor.wc_version
                  - entity: sensor.wc_wall_version
                  - entity: sensor.chaussures_version
                  - entity: sensor.salle_de_bain_version
